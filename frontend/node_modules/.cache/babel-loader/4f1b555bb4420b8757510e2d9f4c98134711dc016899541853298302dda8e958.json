{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zdog7\\\\Documents\\\\GitHub\\\\CS542-FitnessApp\\\\frontend\\\\src\\\\Pages\\\\GymFinder\\\\GymFinderPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport TopBar from '../../Components/TopBar';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { Icon } from 'leaflet';\nimport markerIconPng from 'leaflet/dist/images/marker-icon.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GymFinderPage = () => {\n  _s();\n  const [currentLocation, setCurrentLocation] = useState([0, 0]); //TODO: Implement properly\n  const [fitnessCenters, setFitnessCenters] = useState([]);\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(position => {\n      setCurrentLocation([position.coords.latitude, position.coords.longitude]);\n      fetchFitnessCenters(position.coords.latitude, position.coords.longitude);\n    }, error => {\n      console.error('Error getting location:', error);\n    });\n  }, []);\n  const fetchFitnessCenters = (latitude, longitude) => {\n    const radiusInMiles = 25;\n    const query = `[out:json];\n            node(around:${radiusInMiles * 1609.34},${latitude},${longitude})[\"leisure\"=\"fitness_centre\"];\n            out;`;\n    fetch('https://overpass-api.de/api/interpreter', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `data=${encodeURIComponent(query)}`\n    }).then(response => response.json()).then(data => {\n      setFitnessCenters(data.elements);\n    }).catch(error => {\n      console.error('Error fetching fitness centers:', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(TopBar, {\n      title: \"Gym Finder\",\n      titleColor: \"#ffffff\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '60px',\n        bottom: '0',\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: [42.2746, -71.8068],\n        zoom: 13,\n        style: {\n          height: '90vh'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Marker, {\n          position: [42.2746, -71.8068],\n          icon: new Icon({\n            iconUrl: markerIconPng,\n            iconSize: [25, 41],\n            iconAnchor: [12, 41]\n          }),\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: \"You are here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), fitnessCenters.map((center, index) => /*#__PURE__*/_jsxDEV(Marker, {\n          position: [center.lat, center.lon],\n          icon: new Icon({\n            iconUrl: 'https://fonts.gstatic.com/s/i/materialicons/fitness_center/v10/24px.svg',\n            iconSize: [25, 41],\n            iconAnchor: [12, 41]\n          }),\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: Object.entries(center.tags).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [key, \": \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 41\n              }, this), \" \", value]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n_s(GymFinderPage, \"Pz2CZS2I3935xGgsku7QhHz3yj0=\");\n_c = GymFinderPage;\nexport default GymFinderPage;\nvar _c;\n$RefreshReg$(_c, \"GymFinderPage\");","map":{"version":3,"names":["React","useEffect","useState","TopBar","MapContainer","TileLayer","Marker","Popup","Icon","markerIconPng","jsxDEV","_jsxDEV","GymFinderPage","_s","currentLocation","setCurrentLocation","fitnessCenters","setFitnessCenters","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","fetchFitnessCenters","error","console","radiusInMiles","query","fetch","method","headers","body","encodeURIComponent","then","response","json","data","elements","catch","style","children","title","titleColor","fileName","_jsxFileName","lineNumber","columnNumber","top","bottom","width","center","zoom","height","attribution","url","icon","iconUrl","iconSize","iconAnchor","map","index","lat","lon","Object","entries","tags","key","value","_c","$RefreshReg$"],"sources":["C:/Users/zdog7/Documents/GitHub/CS542-FitnessApp/frontend/src/Pages/GymFinder/GymFinderPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport TopBar from '../../Components/TopBar';\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { Icon } from 'leaflet';\r\nimport markerIconPng from 'leaflet/dist/images/marker-icon.png';\r\n\r\nconst GymFinderPage: React.FC = () => {\r\n    const [currentLocation, setCurrentLocation] = useState<[number, number]>([0, 0]); //TODO: Implement properly\r\n    const [fitnessCenters, setFitnessCenters] = useState<any[]>([]);\r\n\r\n    useEffect(() => {\r\n        navigator.geolocation.getCurrentPosition(\r\n            position => {\r\n                setCurrentLocation([position.coords.latitude, position.coords.longitude]);\r\n                fetchFitnessCenters(position.coords.latitude, position.coords.longitude);\r\n            },\r\n            error => {\r\n                console.error('Error getting location:', error);\r\n            }\r\n        );\r\n    }, []);\r\n\r\n    const fetchFitnessCenters = (latitude: number, longitude: number) => {\r\n        const radiusInMiles = 25;\r\n        const query = `[out:json];\r\n            node(around:${radiusInMiles * 1609.34},${latitude},${longitude})[\"leisure\"=\"fitness_centre\"];\r\n            out;`;\r\n\r\n        fetch('https://overpass-api.de/api/interpreter', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            body: `data=${encodeURIComponent(query)}`\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            setFitnessCenters(data.elements);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error fetching fitness centers:', error);\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div style={{ position: 'relative' }}>\r\n            <TopBar title=\"Gym Finder\" titleColor=\"#ffffff\" />\r\n            <div style={{ position: 'absolute', top: '60px', bottom: '0', width: '100%' }}>\r\n                <MapContainer center={[42.2746, -71.8068]} zoom={13} style={{ height: '90vh' }}>\r\n                    <TileLayer\r\n                        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    />\r\n                    <Marker position={[42.2746, -71.8068]} icon={new Icon({ iconUrl: markerIconPng, iconSize: [25, 41], iconAnchor: [12, 41] })}>\r\n                        <Popup>You are here</Popup>\r\n                    </Marker>\r\n                    {fitnessCenters.map((center, index) => (\r\n                        <Marker key={index} position={[center.lat, center.lon]} icon={new Icon({ iconUrl: 'https://fonts.gstatic.com/s/i/materialicons/fitness_center/v10/24px.svg', iconSize: [25, 41], iconAnchor: [12, 41] })}>\r\n                            <Popup>\r\n                                {Object.entries(center.tags).map(([key, value]) => (\r\n                                    <div key={key}>\r\n                                        <strong>{key}: </strong> {value as string}\r\n                                    </div>\r\n                                ))}\r\n                            </Popup>\r\n                        </Marker>\r\n                    ))}\r\n                </MapContainer>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GymFinderPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}